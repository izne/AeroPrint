# AeroPrint
Scripts for Thermal network printers that talk ESC/POS commands.

# Pre-requisites
Bash, PHP, ESC/POS printer

# Example with Flight simulation data
For the general user is of not much importance of this code, but to give it also practical aspect, we implement the following setup.
In general flight simulation, VATSIM provides a layer of realism by connecting flight simulator pilots together and cover FIRs with air traffic control serice (also people). To perform a flight simulator flight in VATSIM, one does need take care of a few items, much like in real operations. 

In addition to all the nice flight dispatch documents generated by SimBrief, a few small receipts in key moments would be convenient.
- METAR/TAF on startup and TOD
- FLP
- FUEL
- Passengers and cargo
- PERF calculations
- PDC
- IFR Clearance and departure "sheet"

So here we go, a handful of cases where we can print a receipt, use it during the flight and later attach it to the documents for archiving.
Starting with the most needed, we get a METAR template (metar.esc). It contains commands for the printer, much like script for formatting the output on the receipt.

Inside metar.esc there are placeholders %localTime% and %metarData%. They are used to inject live data. This is achieved by a .sh script, running the PHP script (fetch METAR data from VATSIM), then loads the template, injects the live data and stores it as a temporary file. The file is the data for senddat.exe tool from EPSON, that sends the script over the Ethernet to the IP:PORT of a BIXOLON SRP-300 printer.

Receipt printed momentarily, followed by a cut command (found in the script too).

# Results
![METAR](/images/metar.jpg "METAR Receipt")


# References
https://bixolon.com/_upload/manual/Manual_Command_Thermal_POS_Printer_ENG_V1.00[25].pdf
https://reference.epson-biz.com/modules/ref_escpos/index.php?content_id=272
https://barcode.tec-it.com/de/Code39FullASCII?data=Aa-1234